(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{2835:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inspect",function(){return n(61708)}])},52450:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(35666),s=n.n(a),r=n(67294),c=n(3283),i=n.n(c);function u(e,t,n,a,s,r,c){try{var i=e[r](c),u=i.value}catch(o){return void n(o)}i.done?t(u):Promise.resolve(u).then(a,s)}function o(){var e=(0,r.useState)(),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e;(e=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new(i())("https://rpc.l14.lukso.network"),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function c(e){u(r,a,s,c,i,"next",e)}function i(e){u(r,a,s,c,i,"throw",e)}c(void 0)}))})().then((function(e){n(e)}))}),[]),t}},61708:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a=n(35666),s=n.n(a),r=n(85893),c=n(11163),i=n(67294),u=n(18269),o=n(61903),l=n(52450);function d(e,t,n,a,s,r,c){try{var i=e[r](c),u=i.value}catch(o){return void n(o)}i.done?t(u):Promise.resolve(u).then(a,s)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function c(e){d(r,a,s,c,i,"next",e)}function i(e){d(r,a,s,c,i,"throw",e)}c(void 0)}))}}var p=f(s().mark((function e(t,n,a){var r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new a.eth.Contract([{type:"function",stateMutability:"view",outputs:[{type:"bytes[]",name:"",internalType:"bytes[]"}],name:"getDataMultiple",inputs:[{type:"bytes32[]",name:"_keys",internalType:"bytes32[]"}]}],t),c=[],e.prev=2,e.next=5,r.methods.getDataMultiple(n).call();case 5:c=e.sent,e.next=15;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log(e.t0.message),console.log("getDataMultiple not working, fetching with getData"),e.next=14,Promise.all(n.map((function(e){return b(t,a,e)})));case 14:c=e.sent;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,null,[[2,8]])}))),b=f(s().mark((function e(t,n,a){var r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new n.eth.Contract([{type:"function",stateMutability:"view",outputs:[{type:"bytes",name:"_value",internalType:"bytes"}],name:"getData",inputs:[{type:"bytes32",name:"_key",internalType:"bytes32"}]}],t),e.prev=2,e.next=5,r.methods.getData(a).call();case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),y=f(s().mark((function e(t,n,a){var r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new a.eth.Contract([{stateMutability:"view",type:"function",inputs:[{internalType:"bytes32[]",name:"_keys",type:"bytes32[]"}],name:"getData",outputs:[{internalType:"bytes[]",name:"values",type:"bytes[]"}]}],t),c=[],e.prev=2,e.next=5,r.methods.getData(n).call();case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),v=f(s().mark((function e(t,n){var a,r,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new n.eth.Contract([{type:"function",stateMutability:"view",outputs:[{type:"bool",name:"",internalType:"bool"}],name:"supportsInterface",inputs:[{type:"bytes4",name:"interfaceId",internalType:"bytes4"}]}],t),r=!1,e.prev=2,e.next=5,a.methods.supportsInterface("0x44c028fe").call();case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:return c=!1,e.prev=12,e.next=15,a.methods.supportsInterface("0x5a988c0f").call();case 15:c=e.sent,e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),console.log(e.t1.message);case 21:if(i=!1,c){e.next=32;break}return e.prev=23,e.next=26,a.methods.supportsInterface("0x2bd57b73").call();case 26:i=e.sent,e.next=32;break;case 29:e.prev=29,e.t2=e.catch(23),console.log(e.t2.message);case 32:return e.abrupt("return",{isErc725X:r,isErc725YLegacy:i,isErc725Y:c});case 33:case"end":return e.stop()}}),e,null,[[2,8],[12,18],[23,29]])}))),h=f(s().mark((function e(t,n){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new n.eth.Contract([{type:"function",stateMutability:"view",outputs:[{type:"bytes32[]",name:"",internalType:"bytes32[]"}],name:"allDataKeys",inputs:[]}],t),r=[],e.prev=2,e.next=5,a.methods.allDataKeys().call();case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),m=n(87918),x=function(e){var t=e.address,n=e.showInspectButton,a=void 0===n||n;return(0,r.jsxs)("div",{className:"buttons is-centered are-small pt-2",children:[(0,r.jsx)("a",{className:"button is-primary is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/".concat(t),children:"View on UP as Profile \ud83e\uddd1\u200d\ud83c\udfa4"}),(0,r.jsx)("a",{className:"button is-info is-light",target:"_blank",rel:"noreferrer",href:"https://universalprofile.cloud/asset/".concat(t),children:"View on UP as Asset \ud83d\udc57"}),(0,r.jsx)("a",{className:"button is-link is-light",target:"_blank",rel:"noreferrer",href:"https://blockscout.com/lukso/l14/address/".concat(t),children:"View on Blockscout \u26d3"}),a&&(0,r.jsx)("a",{className:"button is-link is-light",href:"".concat(window.location.href.split("?")[0],"?address=").concat(t),children:"ERC725 Inspect \ud83d\udd0d"})]})},k=n(71862);var g=function(e){var t=e.erc725JSONSchema,n=e.value;if("Address"===t.valueContent)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("code",{children:n}),(0,r.jsx)(x,{address:n})]});var a,s=[t],c=new k.pY(s);try{a=c.decodeData(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.name,n))}catch(i){return(0,r.jsx)("span",{children:"Can't decode this key"})}console.log(a);try{return(0,r.jsxs)("div",{children:[(0,r.jsx)("pre",{children:JSON.stringify(a[t.name],null,4)}),a[t.name].url&&(0,r.jsxs)("span",{children:["URL: ",a[t.name].url]})]})}catch(u){return(0,r.jsx)("span",{children:"Can't decode this key"})}};function w(e,t,n,a,s,r,c){try{var i=e[r](c),u=i.value}catch(o){return void n(o)}i.done?t(u):Promise.resolve(u).then(a,s)}var j=function(e){var t=e.address,n=e.isErc725Y,a=e.isErc725YLegacy,c=(0,i.useState)([]),u=c[0],o=c[1],d=(0,l.Z)();return(0,i.useEffect)((function(){var e;(e=s().mark((function e(){var r,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:if(n||a){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,h(t,d);case 7:if(r=e.sent,c=[],!n){e.next=15;break}return e.next=12,y(t,r,d);case 12:c=e.sent,e.next=18;break;case 15:return e.next=17,p(t,r,d);case 17:c=e.sent;case 18:o(r.map((function(e,t){return{key:e,value:c[t]}}))),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),o([]);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})),function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function c(e){w(r,a,s,c,i,"next",e)}function i(e){w(r,a,s,c,i,"throw",e)}c(void 0)}))})()}),[t,d,n,a]),n||a?(0,r.jsx)("div",{className:"columns is-multiline",children:u.map((function(e){var t=function(e){switch(e){case"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abf0613c":return{name:"SupportedStandards:LSP4DigitalCertificate",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abf0613c",keyType:"Mapping",valueContent:"0xabf0613c",valueType:"bytes"};case"0x9afb95cacc9f95858ec44aa8c3b685511002e30ae54415823f406128b85b238e":return{name:"LSP4Metadata",key:"0x9afb95cacc9f95858ec44aa8c3b685511002e30ae54415823f406128b85b238e",keyType:"Singleton",valueContent:"JSONURL",valueType:"bytes"};case"0x114bd03b3a46d48759680d81ebb2b414fda7d030a7105a851867accf1c2352e7":return{name:"LSP4Creators[]",key:"0x114bd03b3a46d48759680d81ebb2b414fda7d030a7105a851867accf1c2352e7",keyType:"Array",valueContent:"Address",valueType:"address"};case"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6":return{name:"SupportedStandards:LSP3UniversalProfile",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000abe425d6",keyType:"Mapping",valueContent:"0xabe425d6",valueType:"bytes"};case"0x3a47ab5bd3a594c3a8995f8fa58d0876c96819ca4516bd76100c92462f2f9dc0":return{name:"LSP3IssuedAssets[]",key:"0x3a47ab5bd3a594c3a8995f8fa58d0876c96819ca4516bd76100c92462f2f9dc0",keyType:"Array",valueContent:"Address",valueType:"address"};case"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6":return{name:"SupportedStandards:ERC725Account",key:"0xeafec4d89fa9619884b6b89135626455000000000000000000000000afdeb5d6",keyType:"Singleton",valueContent:"0xafdeb5d6",valueType:"bytes"};case"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47":return{name:"LSP1UniversalReceiverDelegate",key:"0x0cfc51aec37c55a4d0b1a65c6255c4bf2fbdf6277f3cc0730c45b828b6db8b47",keyType:"Singleton",valueContent:"Address",valueType:"address"};case"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5":return{name:"LSP3Profile",key:"0x5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5",keyType:"Singleton",valueContent:"JSONURL",valueType:"bytes"};case"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3":return{name:"AddressPermissions[]",key:"0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3",keyType:"Array",valueContent:"Address",valueType:"address"}}if(-1!==e.indexOf("0xeafec4d89fa9619884b6b89135626455000000000000000000000000"))return{name:"SupportedStandards:?????????",key:e,keyType:"Mapping",valueContent:e.substr(58),valueType:"bytes"};if(-1!==e.indexOf("0x4b80742d0000000082ac0000")){var t=e.substr(26);return{name:"AddressPermissions:Permissions:".concat(t),key:e,keyType:"Bytes20MappingWithGrouping",valueContent:"BitArray",valueType:"bytes32"}}if(-1!==e.indexOf("0x4b80742d00000000c6dd0000")){var n=e.substr(26);return{name:"AddressPermissions:AllowedAddresses:".concat(n),key:e,keyType:"Bytes20MappingWithGrouping",valueContent:"Address",valueType:"address[]"}}if(-1!==e.indexOf("0x4b80742d000000008efe0000")){var a=e.substr(26);return{name:"AddressPermissions:AllowedFunctions:".concat(a),key:e,keyType:"Bytes20MappingWithGrouping",valueContent:"Bytes4",valueType:"bytes4[]"}}if(-1!==e.indexOf("0x4b80742d000000003efa0000")){var s=e.substr(26);return{name:"AddressPermissions:AllowedStandards:".concat(s),key:e,keyType:"Bytes20MappingWithGrouping",valueContent:"Bytes4",valueType:"bytes4[]"}}if(-1!==e.indexOf("0x114bd03b3a46d48759680d81ebb2b414")){var r=parseInt(e.substr(34),10);return{name:"LSP4Creators[".concat(r,"]"),key:e,keyType:"Singleton",valueContent:"Address",valueType:"address"}}if(-1!==e.indexOf("0xdf30dba06db6a30e65354d9a64c60986")){var c=parseInt(e.substr(34),10);return{name:"AddressPermissions[".concat(c,"]"),key:e,keyType:"Singleton",valueContent:"Address",valueType:"address"}}if(-1!==e.indexOf("0x3a47ab5bd3a594c3a8995f8fa58d0876")){var i=parseInt(e.substr(34),10);return{name:"LSP3IssuedAssets[".concat(i,"]"),key:e,keyType:"Singleton",valueContent:"Address",valueType:"address"}}return{name:"UNKNOWN",key:e,keyType:"UNKNOWN",valueContent:"UNKNOWN",valueType:"UNKNOWN"}}(e.key);return(0,r.jsx)("div",{className:"column is-full",children:(0,r.jsxs)("div",{className:"content py-5",children:[(0,r.jsxs)("h4",{className:"title is-4",children:[t.name," ",(0,r.jsx)(m.Z,{label:t.keyType,color:"success",variant:"outlined",size:"small"})]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:["Key: ",(0,r.jsx)("code",{children:t.key})]}),(0,r.jsxs)("li",{children:["Raw value"," ",(0,r.jsx)("span",{className:"tag is-link is-light",children:t.valueType}),": ",(0,r.jsx)("code",{children:e.value})]}),(0,r.jsxs)("li",{children:["Decoded value"," ",(0,r.jsx)("span",{className:"tag is-link is-light",children:t.valueContent}),":"," ",(0,r.jsx)(g,{erc725JSONSchema:t,value:e.value})]}),"AddressMappingWithGrouping"===t.keyType&&(0,r.jsxs)("li",{children:["Mapped address:"," ",(0,r.jsxs)("code",{children:["0x",t.name.split(":").pop()]})," ",(0,r.jsx)(x,{address:"0x".concat(t.name.split(":").pop())})]})]})]})},e.key)}))}):null};function T(e,t,n,a,s,r,c){try{var i=e[r](c),u=i.value}catch(o){return void n(o)}i.done?t(u):Promise.resolve(u).then(a,s)}var C=function(){var e=(0,c.useRouter)(),t=(0,i.useState)(e.query.address||"0xb8E120e7e5EAe7bfA629Db5CEFfA69C834F74e99"),n=t[0],a=t[1],d=(0,i.useState)(!1),f=d[0],p=d[1],b=(0,i.useState)(!1),y=b[0],h=b[1],m=(0,i.useState)(!1),k=m[0],g=m[1],w=(0,i.useState)(!1),C=w[0],N=w[1],S=(0,i.useState)("Copy share link"),A=S[0],P=S[1],E=(0,i.useState)(""),O=E[0],L=E[1],R=(0,l.Z)();return(0,i.useEffect)((function(){var e;(e=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return");case 2:if(h(!1),g(!1),N(!1),L(""),(0,u.isAddress)(n)){e.next=9;break}return L("Address is not valid"),e.abrupt("return");case 9:return p(!0),e.next=12,v(n,R);case 12:t=e.sent,console.log(t),h(t.isErc725X),g(t.isErc725Y),N(t.isErc725YLegacy),p(!1);case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,s){var r=e.apply(t,n);function c(e){T(r,a,s,c,i,"next",e)}function i(e){T(r,a,s,c,i,"throw",e)}c(void 0)}))})()}),[n,R]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("article",{className:"message is-info",children:(0,r.jsxs)("div",{className:"message-body",children:["This tool will fetch all data keys of"," ",(0,r.jsx)("a",{href:"https://github.com/ERC725Alliance/ERC725",children:"ERC725Y"})," smart contract and attempt to match them with their"," ",(0,r.jsx)("a",{href:"https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md",children:"LSP2 ERC725YJSONSchema"}),".",(0,r.jsx)("br",{}),"The erc725.js lib provides a"," ",(0,r.jsx)("a",{href:"https://docs.lukso.tech/tools/erc725js/classes/ERC725#getschema",children:"getSchema"})," ","method to decode the keys."]})}),(0,r.jsxs)("div",{className:"columns",children:[(0,r.jsxs)("div",{className:"column is-5",children:[(0,r.jsx)(o.Z,{label:"ERC725 Address",fullWidth:!0,type:"text",value:n,onChange:function(e){a(e.target.value)},placeholder:"ERC725 Contract Address",error:""!==O}),(0,r.jsxs)("div",{className:"field",children:[!O&&!y&&!k&&!C&&(0,r.jsx)("p",{className:"help is-danger",children:"ERC725X: \u274c - ERC725Y: \u274c"}),(y||k||C)&&(0,r.jsxs)("p",{className:"help is-success",children:["ERC725X: ",y?"\u2705":"\u274c"," - ERC725Y",C?" (legacy)":"",":"," ",k||C?"\u2705":"\u274c"]})]})]}),(0,r.jsx)("div",{className:"column",children:(0,r.jsx)("div",{className:"field",children:(0,r.jsx)("p",{className:"control",children:(0,r.jsx)("button",{disabled:!!O,className:"button is-success",onClick:function(){navigator.clipboard.writeText("".concat(window.location.href.split("?")[0],"?address=").concat(n)),P("Address copied in clipboard")},children:A})})})})]}),(0,r.jsx)("div",{className:"container is-fluid",children:(0,r.jsx)("div",{className:"columns is-vcentered",children:(0,r.jsx)("div",{className:"column is-offset-one-quarter is-half has-text-centered",children:!O&&(0,r.jsx)(x,{address:n,showInspectButton:!1})})})}),(0,r.jsx)("div",{className:"container is-fluid",children:!f&&(0,r.jsx)(j,{address:n,isErc725YLegacy:C,isErc725Y:k})})]})}},88677:function(){},62808:function(){},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){},43503:function(){},55896:function(){},87500:function(){}},function(e){e.O(0,[482,338,711,862,774,888,179],(function(){return t=2835,e(e.s=t);var t}));var t=e.O();_N_E=t}]);